<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD MAPPER 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mybatis.mybatis_mapper">

<!-- 가영 시작 -->
	<!-- <select id="theater_information" resultType="TheaterInfo">
		select REGION_CODE,REGION_NAME,THEATER_CODE,THEATER_NAME,EXIST_4D,EXIST_IMAX,EXIST_NORMAL from theater_information
	</select>




	<insert id="insertTheaterCondition" parameterType="TheaterCondition" >
		insert into theater_condition values (num, id, movie_name, region_code, theater_code, room, target_date, sysdate, sysdate)
	</insert>
	
	<select id="lastNum" resultType="int">
		select max(num) from theater_condition
	</select>


	<select id="theater_condition" resultType="TheaterCondition">
		select * from theater_condition where target_date >= now()
	</select> -->
<!-- 가영 끝 -->

<!-- 주호 시작 -->
	<select id="insertArticle_new" resultType="int">
	select nvl(max(scon_no), 0)
	from shopping_condition
	</select>


	<insert id="insertArticle_insert" parameterType="ShopCondition">
		insert into
		shopping_condition (scon_no, main_cat, sub_cat, scon_title, brand, product_name, wish_price, reg_date, boardid)values
		(#{scon_no},#{main_cat} ,#{sub_cat},#{scon_title},#{brand},#{product_name},
		#{wish_price},sysdate, #{boardid})
	</insert>
	
	
	
	<select id="getArticle" parameterType="hashmap" resultType="ShopCondition">
	select * from shopping_condition where scon_no = #{scon_no}
	</select>
	
	<select id="getArticles" parameterType="hashmap" resultType="ShopCondition">
	select * from (select rownum rnum, a.* from(select scon_no, main_cat, sub_cat, scon_title, brand, product_name, wish_price, reg_date, boardid 
	 from shopping_condition where boardid = #{boardid} order by scon_no)a)
	where rnum between #{start} and #{end}
	</select>
	
	<select id="getArticleCount" parameterType="string" resultType="int">
	select nvl(count(*), 0) from shopping_condition
	WHERE boardid = #{boardid}
	</select>
	
	<select id="delete" parameterType="hashmap">
		delete from shopping_condition where scon_no = #{scon_no}
	</select>
	
	<!--크롤링 mapper  -->
	<select id="crawlingInsertArticle_new" resultType="int">
		select nvl(max(num), 0) from crawling_product
	</select>
	
	<insert id="crawlingInsertArticle_insert" parameterType="CrawlingProduct">
		insert into crawling_product (num, title, price, brand) values(#{num}, #{title}, #{price}, #{brand})
	</insert>
	
	<select id="getCrawlingCount" parameterType="string" resultType="int">
	select nvl(count(*), 0) from crawling_product
	WHERE boardid = #{boardid}
	</select>
	
	<select id="getCrawlings" parameterType="hashmap" resultType="CrawlingProduct">
	select * from (select rownum rnum, a.* from(select num, title, price, brand, boardid 
	 from crawling_product  order by num)a)
	where rnum between #{start} and #{end}
	</select>

	
<!-- 주호 끝 -->
</mapper>
